{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static i18n %}
{% block content %}
<div class="jumbotron">
  <h1 class="display-4">Expenses Home</h1>
  <p class="lead">Use this page to add, delete and view expenses</p>
  <hr class="my-4">
  <p>Select Date to view Logs for a particular date or month or year</p>
  <a class="btn btn-primary btn-lg" href="{% url 'myfinances:addexpense' %}">{% trans "Add Expense" %}</a>
  <a class="btn btn-secondary btn-lg " href="{% url 'myfinances:expensehome' %}">{% trans "Dashboard" %}</a>
</div>

<div class="card text-center" style="width: auto; border: none;">
  <div class="card-body">
    <form class="form-inline" method="post">
      <div class="form-group mb-2">
        {% csrf_token %}
        {{ form|crispy }}
      </div>
      <button type="submit" class="btn btn-secondary mx-sm-3 mb-2">Search</button>
    </form>
  </div>
</div>

<div class="row justify-content-center">
  <div class="col-10">
    <table class="table">
      <thead class="thead-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">Date</th>
          <th scope="col">Name</th>
          <th scope="col">Type</th>
          <th scope="col">Amount</th>
          <th scope="col">Details</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        {% for expense in expenses %}
        <tr>
          <th scope="row"><a href="">{{ forloop.counter }}</a></th>
          <td>{{ expense.date_of_expense|date:"d M Y" }}</td>
          <td>{{ expense.name }}</td>
          <td>{{ expense.type }}</td>
          <td>{{ expense.amount }}</td>
          <td>{{ expense.details }}</td>
          <td><a class="btn btn-danger btn-sm" href="" role="button">Delete</a></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>

{% endblock %}